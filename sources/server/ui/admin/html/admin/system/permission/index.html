<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no" />
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="<%=basepath%>vendors/layui-treetable/layui/css/layui.css?version=<%=version%>"
        media="all" />
    <link rel="stylesheet" type="text/css" href="<%=basepath%>vendors/layui.css?version=<%=version%>" media="all" />
    <script type="text/javascript" src="https://cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <script type="text/javascript" src="<%=basepath%>vendors/layui-treetable/layui/layui.js?version=<%=version%>"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <title></title>
</head>

<body>
    <div class="layui-form-query" id="actionbar1">
        <div class="layui-col-md12">
            <button class="layui-btn" lay-event="create" url="<%=basepath%>system/permission/add.html" topWidth="800px" topHeight="500px"
                topTitle="新增根菜单">
                <i class="layui-icon">&#xe654;</i>新增根菜单
            </button>
        </div>
    </div>
    <div id="TreeTable1" class="TreeTable" url="api/v1/system/permissions" layout="#layout1" actionbar="#actionbar1">
    </div>
    <div id="layout1" class="layui-custom-layout">
        <p name="菜单名称" field="name" treeNodes="true" headerClass="value_col" />
        <p name="路径" field="path" headerClass="value_col" colClass="value_col" style="width: 20%" />
        <p name="类型" templet="#type1" headerClass="value_col" colClass="value_col" style="width: 7%" />
        <p name="图标" field="iconPath" headerClass="value_col" colClass="value_col" style="width: 7%" />
        <p name="优先级" field="priority" headerClass="value_col" colClass="value_col" style="width: 7%" />
        <p name="操作" templet="#bar1" headerClass="value_col" colClass="value_col" style="width: 25%" />
    </div>
    <script type="text/html" id="type1">
        {{ d.type === 0 ? '模块' : '数据' }}
    </script>
    <script type="text/html" id="bar1">
            <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="create" url="<%=basepath%>system/permission/add.html?parentId={{d.id}}" topWidth="800px" topHeight="500px" topTitle="添加子菜单">添加子菜单</a>
            <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="open" url="<%=basepath%>system/permission/edit.html?id={{d.id}}&readonly=true" topWidth="800px" topHeight="500px" topTitle="查看">查看</a>
            <a class="layui-btn layui-btn-xs" lay-event="edit" url="<%=basepath%>system/permission/edit.html?id={{d.id}}" topWidth="800px" topHeight="500px" topTitle="编辑">编辑</a>
            <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="delete" url="api/v1/system/permissions/{{d.id}}" isConfirm="true" confirmMsg="是否确定删除当前记录？">删除</a>
        </script>
    <script type="text/javascript" src="<%=basepath%>js/main.bundle.js?version=<%=version%>"></script>
</body>

</html>